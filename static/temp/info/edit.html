<style type="text/css">   
    .lighter-weight{font-weight: lighter;}
    .ml{margin-left: 16px;}
    .pt20{padding-top: 20px;}
    .mess-zx{line-height: 36px;color: #847D7D;}
    .btn-hover{margin-left: 16px;color: #796A6A}
    .btn-hover:hover{border-color: #f08300;/* color: #f08300!important; */}     
    .pt0{padding-top: 0!important;}   
    .form-validation .form-control.ng-dirty.ng-invalid{border-color: #f44336;}
    .err{color: #f44336;}
    .form-validation .form-control.ng-dirty.ng-valid,
    .form-validation .form-control.ng-dirty.ng-valid:focus {border-color: #4caf50;}   
    .left-info-err{position: absolute;top: 22px;left: 70px;}
    .left-info-input{margin:0 8px; width: 120px;display: inline;}
    .left-info{position: absolute;top: 18px;right: 70px;}
    .left-info-st{display:none;top:70px;right:90px;}
    .mask{position: fixed;top: 0;right: 0;bottom: 0;left: 0;z-index: 1050;overflow: hidden;-webkit-overflow-scrolling: touch;outline: 0;background: #000;opacity: 0.5;}
    .dialog{position: fixed;z-index: 1100;top: 115px;left: 22%;background-color: #fff;padding: 0;}
    .dialog-titlebar { padding: 0 10px 0 20px;height: 44px;background: #f5f5f5;}
    .dialog-title {float: left;font: 14px/44px "Microsoft YaHei";color: #f08300;}
    .close-btn{float: right;margin-top: 14px;}
    .clean-btn{margin: 0px 0px 0px 18px;width: 82px;}
    .border-slt{border: 1px solid #ddd;}
    .pr{position: relative;}
    .tab-pane{border: 1px solid #ddd;border-top: none;}
    .btn-hover:hover, a:hover {border-color: #f08300;}
</style> 

    <div class="row">
        <div class="col-md-12">
            <div platform-bread-nav="breadNavs"/>
            <!-- <ol class="breadcrumb">
                <li><a href="../index.html">首页</a></li>
		    	<li><a href="index.html">{{name}}管理</a></li>
                <li class="active">文章录入</li>
            </ol>-->
        </div>       
    </div>

<div class="modal-body" ng-init="init()">
    <form class="form-horizontal form-validation" name="formInfo" novalidate>
        <tabset>
            <tab heading="基本信息" status="infoBase" active> 
                    <div class="pr" >
                        <div class="form-group pt20 " beyond max-count='64'>
                            <label  class="col-sm-2 control-label lighter-weight">
                                <span class="err">*</span>
                                标题名称
                            </label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control {{titlelostflag? 'ng-dirty ng-invalid ng-invalid-required':null}}" ng-model="bean.title" autocomplete="off" ng-blur="setNetAddress();" name="title" ng-maxlength="64" required>
                                <div ng-show="formInfo.title.$dirty && formInfo.title.$invalid||titlelostflag">
                                    <span class="err" ng-show="formInfo.title.$error.required||titlelostflag" >请填写资讯标题</span>
                                    <span class="err" ng-show="!formInfo.title.$error.required && formInfo.title.$error">资讯标题长度为0~64字符</span>
                                </div>
                            </div>
                            
                                <span class="mess-zx">0</span>/64字符
                          </div>                                                                        
                    </div>

                    <div  left-information>
                             <button type="button" class="btn btn-default btn-hover" style="position: absolute;top: 76px;right: 160px;"> <i class="glyphicon glyphicon-plus-sign" style="padding: 0 4px;"></i>添加短标题</button>
                         <span  class="left-info left-info-st" beyond max-count='30'>
                                    <span>短标题名称</span>
                                    <input type="text" class="form-control left-info-input" autocomplete="off" ng-model="bean.shortTitle" name="shortTitle" ng-maxlength="30">
                                    <span class="mess-zx">0</span>/30字符
                                    <div ng-show="formInfo.shortTitle.$dirty && formInfo.shortTitle.$invalid" class="left-info-err">
                                        <span class="err" ng-show="formInfo.shortTitle.$error" style="margin-top: 6px;display: inline-block;">短标题长度为0~30字符</span>
                                    </div>
                        </span> 
                    </div>                    

                    <span class="dropdown" style="left: 92%;bottom: 30px;">
                            <a class="dropdown-toggle" data-toggle="dropdown"> <i class="fa fa-question" style="padding: 0 4px;"></i>
                                帮助
                                <span class="caret"></span>
                            </a>
                            <ul  class="dropdown-menu">
                                <li>
                                    <a ng-click="hasLink()">外部链接</a>
                                </li>
                            </ul>
                    </span>           
                    

                    <div class="form-group">
                        <label class="col-sm-2 control-label lighter-weight">
                            <span class="err">*</span>
                            所属分类
                        </label>
                        <div class="col-sm-5">       
                            <!--下拉树-->
                            <div class="form-control" style="border:none;width: 345px;padding:0;">                       
                                <nested-combo-box  control-disabled="false" collection="collectionBean" ng-model="classify.activeItemBean">
                                </nested-combo-box>                                
                            </div>                    
                         </div>                        
                        <button type="button" class="btn btn-default btn-hover" ng-click="addCategory()"> <i class="glyphicon glyphicon-plus-sign"></i> 添加分类</button>                            
                    </div>
                  
                    <div class="form-group" ng-show="isLinkFlag">
                        <label  class="col-sm-2 control-label lighter-weight">                            
                            网址
                        </label>
                        <div class="col-sm-5">  
                           <input type="text" class="form-control" autocomplete="off" ng-model="bean.linkUrl">                          
                        </div>                        
                    </div>

                    <div class="form-group" beyond max-count='100'>
                        <label  class="col-sm-2 control-label lighter-weight">                            
                           关联标签
                        </label>
                        <div class="col-sm-5">                           
                            <pre class="form-control">{{bean.cmsTags|showCtgsName}}</pre>                   
                        </div>                         
                        <button type="button" class="btn btn-default clean-btn" data-module-id="{{moduleId}}" tag-lib result="bean.cmsTags" ng-model="bean.cmsTags">选择标签</button>
                    </div>                    
                   <div class="form-group">
                        <label  class="col-sm-2 control-label lighter-weight">                            
                            是否上传缩略图
                        </label>
                        <div class="col-sm-8">
                            <label class="radio-inline">
                                <input type="radio" name="radioCheckedImg" ng-click="hasNotThumbnail()" ng-checked="!imageExist">否
                            </label>
                            <label class="radio-inline">
                                <input type="radio" name="radioCheckedImg"  ng-click="hasThumbnail()" ng-checked="imageExist">是
                            </label>                          
                        </div>                        
                    </div> 
                    <div class="form-group" ng-show="isThumbnail">                        
                        <div class="col-md-offset-2 col-sm-2">
                            <a href="javascript:void(0)">
                                <div class="border-slt text-center" img-lib ng-model="img.thumbnail">  
                                    <img id="thumbnail" style="height: 128px;width: 128px;" nsw-src="{{img.thumbnail[0].path}}" ng-show="img.thumbnail[0].path != undefined">
                                    <i class="fa fa-cloud-upload fa-3x" style="margin-top: 20px;" ng-show="img.thumbnail[0].path == undefined"></i>  
                                    <h6 ng-show="img.thumbnail[0].path == undefined" style="margin-bottom: 20px;">点击上传</h6>
                                </div>                              
                            </a>
                        </div>  
                        <div class="col-sm-8" style="margin-top:20px;">
                            <label  class="col-sm-2 control-label lighter-weight">alt标签</label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" autocomplete="off" ng-model="bean.imgSm.alt">                                
                            </div>                               
                        </div>
                        <div class="col-sm-8" style="margin-top:20px;">
                            <label  class="col-sm-2 control-label lighter-weight">最大尺寸</label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" disabled value="800*800">                                
                            </div>                               
                        </div>
                    </div>
                    
                    <div class="form-group" ng-show="!isLinkFlag">
                        <label  class="col-sm-2 control-label lighter-weight">
                            <span class="err">*</span>
                            资讯详细内容
                        </label>
                        <div class="col-sm-8" style="z-index: 1;">
                          <div ueditor ng-model="bean.content" config="configContent"></div>                        
                        </div>                                       
                    </div>  

                     <div class="form-group" ng-show="isLinkFlag">
                        <label  class="col-sm-2 control-label lighter-weight">                        
                            简介、资讯导读
                        </label>
                        <div class="col-sm-8" style="z-index: 1;">                          
                            <div ueditor ng-model="bean.desc" config="configDesc"></div>                            
                        </div>                                            
                    </div> 

                <div class="form-group" ng-show="isLinkFlag">
                    <label  class="col-sm-2 control-label lighter-weight">选项</label>
                    <div class="col-sm-8">
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="bean.isRecommend">推荐
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="bean.isDisplayTop">置顶
                        </label>
                    </div>
                </div>
                 <div class="form-group" ng-show="isLinkFlag">
                     <label  class="col-sm-2 control-label lighter-weight">显示当前资讯</label>
                     <div class="col-sm-8">
                         <label class="radio-inline">
                             <input type="radio" name="radioChecked1" value="true" ng-model="bean.isDisplay">显示</label>
                         <label class="radio-inline">
                             <input type="radio" name="radioChecked1" value="false" ng-model="bean.isDisplay">隐藏</label>
                     </div>
                 </div>
                    <div class="form-group" ng-show="isLinkFlag">
                        <label  class="col-sm-2 control-label lighter-weight">                            
                            发布时间
                        </label>
                        <div class="col-sm-5">                                                       
                           <pick-datetime class="form-control" ng-model="bean.publishTime"></pick-datetime>
                        </div>                                              
                    </div> 
                    <div style="clear:both;"></div> 
            </tab>
            
            <tab heading="SEO搜索引擎设置" status="infoSeo" ng-show="infoSeo"> 
                     <div class="form-group pt20" beyond max-count='20'>
                        <label  class="col-sm-2 control-label lighter-weight">
                            <span class="err">*</span>
                            网页访问地址
                        </label>
                         <div class="col-sm-5">
                            <input type="text" class="form-control" autocomplete="off" ng-model="bean.seo.staticPageName" ng-blur="verRepeat()" name="staticPageName"  ng-maxlength="30" required>
                            <div ng-show="formInfo.staticPageName.$dirty && formInfo.staticPageName.$invalid">
                                <span class="err" ng-show="formInfo.staticPageName.$error.required">请填写网页访问地址名称</span>
                                <span class="err" ng-show="!formInfo.staticPageName.$error.required && formInfo.staticPageName.$error">网页访问地址名称长度为0~30字符</span>
                            </div>
                        </div>
                        <span class="mess-zx">0</span>/30字符
                    </div>

                    <div class="form-group" beyond max-count='64'>
                        <label  class="col-sm-2 control-label lighter-weight pt0">                           
                            网页标题
                            <br>(Title)</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" autocomplete="off" ng-model="bean.seo.title" name="aSeoTitle" ng-maxlength="64">
                            <div ng-show="formInfo.aSeoTitle.$dirty && formInfo.aSeoTitle.$invalid">                              
                                <span class="err" ng-show="formInfo.aSeoTitle.$error">网页标题长度为0~64字符</span>
                            </div>
                        </div>
                        <span class="mess-zx">0</span>/64字符
                    </div>
                    <div class="form-group" beyond max-count='100'>
                        <label  class="col-sm-2 control-label lighter-weight pt0">                            
                            网页关键词
                            <br>(Keywords)</label>
                        <div class="col-sm-5">
                            <input type="text" class="form-control" autocomplete="off" ng-model="bean.seo.keyword" name="aSeoKeyword" ng-maxlength="100">
                            <div ng-show="formInfo.aSeoKeyword.$dirty && formInfo.aSeoKeyword.$invalid">                                
                                <span class="err" ng-show="formInfo.aSeoKeyword.$error">网页关键词长度为0~100字符</span>
                            </div>
                            <span class="err" ng-show="keyWordErr">关键字使用逗号、空格和分隔符，并不能超过5个关键字</span>
                        </div>
                        <span class="mess-zx">0</span>/100字符
                    </div>
                    <div class="form-group" beyond max-count='150'>
                        <label  class="col-sm-2 control-label lighter-weight pt0">                           
                            网页描述
                            <br>(Description)</label>
                        <div class="col-sm-8" style="z-index: 1;">                             
                            <!-- <div ueditor ng-model="bean.seo.desc" config="configSeoDesc"></div>  --> 
                            <textarea class="form-control" rows="3" ng-model="bean.seo.desc"  ng-maxlength="150" required></textarea>                        
                        </div>                        
                    </div> 
                    <div style="clear:both;"></div>              
            </tab>    

            <tab heading="其他属性" status="infoOther" ng-show="infoOther"> 

                <div class="form-group pt20">
                    <label  class="col-sm-2 control-label lighter-weight">                        
                        简介、资讯导读
                    </label>
                    <div class="col-sm-8" style="z-index: 1;">                          
                        <div ueditor ng-model="bean.desc" config="configDesc"></div>                            
                    </div>                                            
                </div> 

                <div class="pr" left-information>
                        <div class="form-group pt20 " beyond max-count='50'>
                            <label  class="col-sm-2 control-label lighter-weight">                                
                                作者
                            </label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" autocomplete="off" ng-model="bean.author" name="author" ng-maxlength="50">
                                <div ng-show="formInfo.author.$dirty && formInfo.author.$invalid">                               
                                    <span class="err" ng-show="formInfo.author.$error">作者字符长度为0~50字符</span>
                                </div>
                            </div>
                            <div>
                                <span class="mess-zx">0</span>/50字符
                                <button type="button" class="btn btn-default btn-hover"> <i class="glyphicon glyphicon-plus-sign" style="padding: 0 4px;"></i>
                                    添加作者官网
                                </button>                            
                            </div>                        
                        </div>
                        <span  class="left-info" beyond max-count='200' style="display:none;">
                            <span>作者官网</span>
                            <input type="text" class="form-control left-info-input" autocomplete="off" ng-model="bean.authorLink" name="authorLink" ng-maxlength="200">
                            <span class="mess-zx">0</span>/200字符
                            <div ng-show="formInfo.authorLink.$dirty && formInfo.authorLink.$invalid" class="left-info-err">
                                <span class="err" ng-show="formInfo.authorLink.$error" style="margin-top: 6px;display: inline-block;">作者官网长度为0~200字符</span>
                            </div>
                    </span>
                </div> 

                <div class="pr" left-information>
                        <div class="form-group pt20 " beyond max-count='50'>
                            <label  class="col-sm-2 control-label lighter-weight">                                
                                编辑
                            </label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" autocomplete="off" ng-model="bean.editor" name="editor" ng-maxlength="50">
                                <div ng-show="formInfo.editor.$dirty && formInfo.editor.$invalid">                               
                                    <span class="err" ng-show="formInfo.editor.$error">作者字符长度为0~50字符</span>
                                </div>
                            </div>
                            <div>
                                <span class="mess-zx">0</span>/50字符
                                <button type="button" class="btn btn-default btn-hover"> <i class="glyphicon glyphicon-plus-sign" style="padding: 0 4px;"></i>
                                    添加编辑官网
                                </button>                            
                            </div>                        
                        </div>
                        <span  class="left-info" beyond max-count='200' style="display:none;">
                            <span>编辑官网</span>
                            <input type="text" class="form-control left-info-input" autocomplete="off" ng-model="bean.editorLink" name="editorLink" ng-maxlength="200">
                            <span class="mess-zx">0</span>/200字符
                            <div ng-show="formInfo.editorLink.$dirty && formInfo.editorLink.$invalid" class="left-info-err">
                                <span class="err" ng-show="formInfo.editorLink.$error" style="margin-top: 6px;display: inline-block;">编辑官网长度为0~200字符</span>
                            </div>
                    </span>
                </div>
                <div class="pr" left-information>
                        <div class="form-group pt20 " beyond max-count='50'>
                            <label  class="col-sm-2 control-label lighter-weight">                                
                                来源
                            </label>
                            <div class="col-sm-5">
                                <input type="text" class="form-control" autocomplete="off" ng-model="bean.src" name="src" ng-maxlength="50">
                                <div ng-show="formInfo.src.$dirty && formInfo.src.$invalid">                               
                                    <span class="err" ng-show="formInfo.src.$error">作者字符长度为0~50字符</span>
                                </div>
                            </div>
                            <div>
                                <span class="mess-zx">0</span>/50字符
                                <button type="button" class="btn btn-default btn-hover"> <i class="glyphicon glyphicon-plus-sign" style="padding: 0 4px;"></i>
                                    添加来源官网
                                </button>                            
                            </div>                        
                        </div>
                        <span  class="left-info" beyond max-count='200' style="display:none;">
                            <span>来源官网</span>
                            <input type="text" class="form-control left-info-input" autocomplete="off" ng-model="bean.srcLink" name="srcLink" ng-maxlength="200">
                            <span class="mess-zx">0</span>/200字符
                            <div ng-show="formInfo.srcLink.$dirty && formInfo.srcLink.$invalid" class="left-info-err">
                                <span class="err" ng-show="formInfo.srcLink.$error" style="margin-top: 6px;display: inline-block;">来源官网长度为0~200字符</span>
                            </div>
                    </span>
                </div>

                <div class="form-group"><label  class="col-sm-2 control-label lighter-weight">点击次数</label><div class="col-sm-5"><input type="text" class="form-control" autocomplete="off" ng-model="bean.clicks" name="clicks" ng-pattern="/^[1-9]\d*$/"><div ng-show="formInfo.clicks.$dirty && formInfo.clicks.$invalid"><span class="err" ng-show="formInfo.clicks.$error">点击次数必须是大于0的整数</span></div></div></div>

                <div class="form-group">
                    <label  class="col-sm-2 control-label lighter-weight">选项</label>
                    <div class="col-sm-8">
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="bean.isRecommend">推荐
                        </label>
                        <label class="checkbox-inline">
                            <input type="checkbox" ng-model="bean.isDisplayTop">置顶
                        </label>
                    </div>
                </div>
                 <div class="form-group">
                     <label  class="col-sm-2 control-label lighter-weight">显示当前资讯</label>
                     <div class="col-sm-8">
                         <label class="radio-inline">
                             <input type="radio" name="radioChecked" value="true" ng-model="bean.isDisplay">显示</label>
                         <label class="radio-inline">
                             <input type="radio" name="radioChecked" value="false" ng-model="bean.isDisplay">隐藏</label>
                     </div>
                 </div>

                <div class="form-group">
                    <label  class="col-sm-2 control-label lighter-weight">                            
                        发布时间
                    </label>
                    <div class="col-sm-5">                                                       
                       <pick-datetime class="form-control" ng-model="bean.publishTime"></pick-datetime>
                    </div>                                              
                </div>
                <div style="clear:both;"></div>
            </tab>      
        </tabset>
       <div class="form-group pt20">
                <div class="col-sm-10 text-center">
                    <button type="submit" class="btn btn-warning btn-color" ng-disabled="formInfo.$pristine" ng-click="saveAirticle()"><label class="checkright"></label><span class="btntext">保&nbsp;存</span></button>
                    <button class="btn btn-default btn-color btn-cancel" ng-click="clearFormBtn()"><label class="checkcancel"></label><span class="btntext black">重&nbsp;填</span></button>
                </div>
        </div> 
    </form>
</div> 


     <!--添加分类-->
    <div class="col-sm-6 dialog" ng-show="categoryDialog">
        <div class="dialog-titlebar">
            <span class="dialog-title">快速添加分类</span>    
            <a class="close-btn diaremove" ng-click="closeCategoryDialog()"></a>      
        </div>
        <div style="overflow-x:hidden;overflow-y:auto;height: 300px;">
            <div class="form-group">
                <form class="form-horizontal form-validation form-airticle" name="formAddCategory" novalidate>
                   <div class="form-group" beyond max-count='64' style="margin-top:20px;">
                        <label  class="col-sm-3 control-label lighter-weight pt0">
                            <span class="err">*</span>
                            分类名称
                            </label>
                        <div class="col-sm-6">
                            <input class="form-control" autocomplete="off" ng-model="cTitle" name="cTitle"  ng-maxlength="64" required>
                            <div ng-show="formAddCategory.cTitle.$dirty && formAddCategory.cTitle.$invalid">
                                <span class="err" ng-show="formAddCategory.cTitle.$error.required">请填写分类名称</span>
                                <span class="err" ng-show="!formAddCategory.cTitle.$error.required && formAddCategory.cTitle.$error">分类名称长度为0~64字符</span>
                            </div>                             
                        </div>
                         <span class="mess-zx">0</span>/64字符
                    </div>                    
                    <div class="form-group">
                        <label  class="col-sm-3 control-label lighter-weight pt0">
                            <span class="err">*</span>
                            上级分类
                            </label>
                        <div class="col-sm-6">                           
                            <nested-combo-box  control-disabled="false"  collection="ksCollectionBean" ng-model="classify.ksActiveItemBean">
                            </nested-combo-box>                            
                        </div>
                         <span class="mess-zx">分类可分多级</span>                        
                    </div> 

                     <div class="form-group">                        
                        <label  class="col-sm-3 control-label">                          
                            <span class="glyphicon glyphicon-exclamation-sign" style="color:#eea236;font-size:20px;"></span>                        
                        </label> 
                          <span class="mess-zx">设置更多分类信息，请到分类列表进行详细设置，如SEO、内页排版</span>                        
                    </div> 
                    
                    <div class="form-group">
                        <div class="col-sm-offset-4 col-sm-10">
                          <button type="submit" class="btn btn-warning btn-color" ng-click="saveAddCategory()" ng-disabled="formAddCategory.$invalid&&formAddCategory.$valid"><label class="checkright"></label><span class="btntext">保&nbsp;存</span></button>
                          <button class="btn btn-default btn-color" ng-click="closeCategoryDialog()"><label class="checkcancel"></label><span class="btntext black">取&nbsp;消</span></button>
                        </div>
                    </div>                   
                </form>
            </div>
        </div>       
    </div>
    <!--mask-->
    <div class="mask" ng-show="mask"></div>  
